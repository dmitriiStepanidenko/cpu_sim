import{s as pe,A as fe,B as ke,r as Fe,v as Me,w as ze,x as Ue,f as v,l as R,a as V,g as y,h as S,m as A,c as L,d,C as ve,j as N,i as B,u,D as H,n as de,y as oe,E as Ie,e as me,F as Oe,k as je,G as We,z as _t,H as Re,I as ft,o as dt}from"../chunks/scheduler.c4622924.js";import{S as be,i as ge,b as te,d as ne,m as re,a as W,t as X,e as le,c as ot,g as it}from"../chunks/index.2983d119.js";import{I as He,g as Xe,a as qe,e as $e,b as Ae}from"../chunks/Toaster.a6b0483c.js";import{d as mt}from"../chunks/index.3f1c8829.js";function pt(l){let e;const t=l[2].default,n=Fe(t,l,l[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&Me(n,t,r,r[3],e?Ue(t,r[3],o,null):ze(r[3]),null)},i(r){e||(W(n,r),e=!0)},o(r){X(n,r),e=!1},d(r){n&&n.d(r)}}}function bt(l){let e,t;const n=[{name:"pause"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[pt]},$$scope:{ctx:l}};for(let o=0;o<n.length;o+=1)r=fe(r,n[o]);return e=new He({props:r}),{c(){te(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,i){re(e,o,i),t=!0},p(o,[i]){const a=i&3?Xe(n,[n[0],i&2&&qe(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(a.$$scope={dirty:i,ctx:o}),e.$set(a)},i(o){t||(W(e.$$.fragment,o),t=!0)},o(o){X(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function gt(l,e,t){let{$$slots:n={},$$scope:r}=e;const o=[["rect",{width:"4",height:"16",x:"6",y:"4"}],["rect",{width:"4",height:"16",x:"14",y:"4"}]];return l.$$set=i=>{t(1,e=fe(fe({},e),ke(i))),"$$scope"in i&&t(3,r=i.$$scope)},e=ke(e),[o,e,n,r]}class ht extends be{constructor(e){super(),ge(this,e,gt,bt,pe,{})}}const vt=ht;function yt(l){let e;const t=l[2].default,n=Fe(t,l,l[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&Me(n,t,r,r[3],e?Ue(t,r[3],o,null):ze(r[3]),null)},i(r){e||(W(n,r),e=!0)},o(r){X(n,r),e=!1},d(r){n&&n.d(r)}}}function wt(l){let e,t;const n=[{name:"play"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[yt]},$$scope:{ctx:l}};for(let o=0;o<n.length;o+=1)r=fe(r,n[o]);return e=new He({props:r}),{c(){te(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,i){re(e,o,i),t=!0},p(o,[i]){const a=i&3?Xe(n,[n[0],i&2&&qe(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(a.$$scope={dirty:i,ctx:o}),e.$set(a)},i(o){t||(W(e.$$.fragment,o),t=!0)},o(o){X(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function kt(l,e,t){let{$$slots:n={},$$scope:r}=e;const o=[["polygon",{points:"5 3 19 12 5 21 5 3"}]];return l.$$set=i=>{t(1,e=fe(fe({},e),ke(i))),"$$scope"in i&&t(3,r=i.$$scope)},e=ke(e),[o,e,n,r]}class $t extends be{constructor(e){super(),ge(this,e,kt,wt,pe,{})}}const Et=$t;function Dt(l){let e;const t=l[2].default,n=Fe(t,l,l[3],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,o){n&&n.m(r,o),e=!0},p(r,o){n&&n.p&&(!e||o&8)&&Me(n,t,r,r[3],e?Ue(t,r[3],o,null):ze(r[3]),null)},i(r){e||(W(n,r),e=!0)},o(r){X(n,r),e=!1},d(r){n&&n.d(r)}}}function Tt(l){let e,t;const n=[{name:"step-forward"},l[1],{iconNode:l[0]}];let r={$$slots:{default:[Dt]},$$scope:{ctx:l}};for(let o=0;o<n.length;o+=1)r=fe(r,n[o]);return e=new He({props:r}),{c(){te(e.$$.fragment)},l(o){ne(e.$$.fragment,o)},m(o,i){re(e,o,i),t=!0},p(o,[i]){const a=i&3?Xe(n,[n[0],i&2&&qe(o[1]),i&1&&{iconNode:o[0]}]):{};i&8&&(a.$$scope={dirty:i,ctx:o}),e.$set(a)},i(o){t||(W(e.$$.fragment,o),t=!0)},o(o){X(e.$$.fragment,o),t=!1},d(o){le(e,o)}}}function It(l,e,t){let{$$slots:n={},$$scope:r}=e;const o=[["line",{x1:"6",x2:"6",y1:"4",y2:"20"}],["polygon",{points:"10,4 20,12 10,20"}]];return l.$$set=i=>{t(1,e=fe(fe({},e),ke(i))),"$$scope"in i&&t(3,r=i.$$scope)},e=ke(e),[o,e,n,r]}class Ct extends be{constructor(e){super(),ge(this,e,It,Tt,pe,{})}}const St=Ct,Nt=!0,Tn=Object.freeze(Object.defineProperty({__proto__:null,prerender:Nt},Symbol.toStringTag,{value:"Module"}));function Je(l,e,t){const n=l.slice();return n[10]=e[t],n[12]=t,n}function Ke(l){let e,t=$e(l[4]),n=[];for(let r=0;r<t.length;r+=1)n[r]=Qe(Je(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=me()},l(r){for(let o=0;o<n.length;o+=1)n[o].l(r);e=me()},m(r,o){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(r,o);B(r,e,o)},p(r,o){if(o&60){t=$e(r[4]);let i;for(i=0;i<t.length;i+=1){const a=Je(r,t,i);n[i]?n[i].p(a,o):(n[i]=Qe(a),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(r){r&&d(e),Oe(n,r)}}}function Rt(l){let e;return{c(){e=R(l[12])},l(t){e=A(t,l[12])},m(t,n){B(t,e,n)},d(t){t&&d(e)}}}function At(l){let e=l[12].toString(2).padStart(7,"0")+"",t;return{c(){t=R(e)},l(n){t=A(n,e)},m(n,r){B(n,t,r)},d(n){n&&d(t)}}}function Vt(l){let e=l[10]+"",t;return{c(){t=R(e)},l(n){t=A(n,e)},m(n,r){B(n,t,r)},p(n,r){r&16&&e!==(e=n[10]+"")&&de(t,e)},d(n){n&&d(t)}}}function Lt(l){let e=l[10].toString(2).padStart(8,"0")+"",t;return{c(){t=R(e)},l(n){t=A(n,e)},m(n,r){B(n,t,r)},p(n,r){r&16&&e!==(e=n[10].toString(2).padStart(8,"0")+"")&&de(t,e)},d(n){n&&d(t)}}}function Qe(l){let e,t,n,r,o,i,a;function c(p,s){if(p[3]===2)return At;if(p[3]===10)return Rt}let m=c(l),_=m&&m(l);function g(p,s){if(p[2]===2)return Lt;if(p[2]===10)return Vt}let T=g(l),f=T&&T(l);return{c(){e=v("div"),t=v("div"),_&&_.c(),n=V(),r=v("div"),f&&f.c(),o=V(),this.h()},l(p){e=y(p,"DIV",{class:!0,style:!0});var s=S(e);t=y(s,"DIV",{class:!0});var w=S(t);_&&_.l(w),w.forEach(d),n=L(s),r=y(s,"DIV",{id:!0,class:!0,contenteditable:!0});var b=S(r);f&&f.l(b),b.forEach(d),o=L(s),s.forEach(d),this.h()},h(){N(t,"class","cell svelte-1akpy5z"),N(r,"id",l[12]),N(r,"class","cell svelte-1akpy5z"),N(r,"contenteditable",""),N(e,"class","row svelte-1akpy5z"),je(e,"font-size","13px")},m(p,s){B(p,e,s),u(e,t),_&&_.m(t,null),u(e,n),u(e,r),f&&f.m(r,null),u(e,o),i||(a=H(r,"blur",l[5]),i=!0)},p(p,s){m!==(m=c(p))&&(_&&_.d(1),_=m&&m(p),_&&(_.c(),_.m(t,null))),T===(T=g(p))&&f?f.p(p,s):(f&&f.d(1),f=T&&T(p),f&&(f.c(),f.m(r,null)))},d(p){p&&d(e),_&&_.d(),f&&f.d(),i=!1,a()}}}function Pt(l){let e,t,n,r,o,i,a,c,m,_,g,T,f,p,s,w,b,E,M,j,D,C,z,O,G,F,P,ie='<div class="cell svelte-1akpy5z">Addr</div> <div class="cell svelte-1akpy5z">Value</div>',ee,ae,U,h=l[4]!=null&&Ke(l);return{c(){e=v("div"),t=R(l[0]),n=V(),r=v("div"),o=v("label"),i=v("input"),c=R("binary"),m=V(),_=v("label"),g=v("input"),f=R("10"),p=V(),s=v("div"),w=v("label"),b=v("input"),M=R("binary"),j=V(),D=v("label"),C=v("input"),O=R("10"),G=V(),F=v("div"),P=v("div"),P.innerHTML=ie,ee=V(),h&&h.c(),this.h()},l(I){e=y(I,"DIV",{});var k=S(e);t=A(k,l[0]),n=L(k),r=y(k,"DIV",{});var J=S(r);o=y(J,"LABEL",{});var ue=S(o);i=y(ue,"INPUT",{type:!0}),c=A(ue,"binary"),ue.forEach(d),m=L(J),_=y(J,"LABEL",{});var se=S(_);g=y(se,"INPUT",{type:!0}),f=A(se,"10"),se.forEach(d),J.forEach(d),p=L(k),s=y(k,"DIV",{});var Q=S(s);w=y(Q,"LABEL",{});var q=S(w);b=y(q,"INPUT",{type:!0}),M=A(q,"binary"),q.forEach(d),j=L(Q),D=y(Q,"LABEL",{});var he=S(D);C=y(he,"INPUT",{type:!0}),O=A(he,"10"),he.forEach(d),Q.forEach(d),G=L(k),F=y(k,"DIV",{class:!0});var ce=S(F);P=y(ce,"DIV",{class:!0,"data-svelte-h":!0}),ve(P)!=="svelte-19czfn5"&&(P.innerHTML=ie),ee=L(ce),h&&h.l(ce),ce.forEach(d),k.forEach(d),this.h()},h(){i.checked=a=l[2]===2,N(i,"type","radio"),i.value=2,g.checked=T=l[2]===10,N(g,"type","radio"),g.value=10,b.checked=E=l[3]===2,N(b,"type","radio"),b.value=2,C.checked=z=l[3]===10,N(C,"type","radio"),C.value=10,N(P,"class","row svelte-1akpy5z"),N(F,"class","table svelte-1akpy5z")},m(I,k){B(I,e,k),u(e,t),u(e,n),u(e,r),u(r,o),u(o,i),u(o,c),u(r,m),u(r,_),u(_,g),u(_,f),u(e,p),u(e,s),u(s,w),u(w,b),u(w,M),u(s,j),u(s,D),u(D,C),u(D,O),u(e,G),u(e,F),u(F,P),u(F,ee),h&&h.m(F,null),ae||(U=[H(i,"change",l[6]),H(g,"change",l[6]),H(b,"change",l[7]),H(C,"change",l[7])],ae=!0)},p(I,[k]){k&1&&de(t,I[0]),k&4&&a!==(a=I[2]===2)&&(i.checked=a),k&4&&T!==(T=I[2]===10)&&(g.checked=T),k&8&&E!==(E=I[3]===2)&&(b.checked=E),k&8&&z!==(z=I[3]===10)&&(C.checked=z),I[4]!=null?h?h.p(I,k):(h=Ke(I),h.c(),h.m(F,null)):h&&(h.d(1),h=null)},i:oe,o:oe,d(I){I&&d(e),h&&h.d(),ae=!1,Ie(U)}}}function Bt(l){var e=/^[01]+$/;return e.test(l)}function Ft(l,e,t){let n,r=oe,o=()=>(r(),r=We(a,s=>t(4,n=s)),a);l.$$.on_destroy.push(()=>r());let{name:i}=e,{memory:a}=e;o();let c=10,m=10;function _(s){const w=s.target?.id;let b=s.target.innerText;if(!Bt(b)){T(),console.log(n[w]),s.target.innerText=n[w].toString(2).padStart(8,"0");return}b=parseInt(b,2),a?.write_u8(w,b),g()}function g(){Ae({data:{title:"Успешный успех!",description:"Новое значение ячейки памяти было записано!",color:"green"}})}function T(){Ae({data:{title:"Неуспешный неуспех!",description:"Новое значение ячейки памяти НЕ было записано!",color:"red"}})}function f(s){t(2,c=Number(s.currentTarget.value))}function p(s){t(3,m=Number(s.currentTarget.value))}return l.$$set=s=>{"name"in s&&t(0,i=s.name),"memory"in s&&o(t(1,a=s.memory))},[i,a,c,m,n,_,f,p]}class at extends be{constructor(e){super(),ge(this,e,Ft,Pt,pe,{name:0,memory:1})}}let $;const _e=new Array(128).fill(void 0);_e.push(void 0,null,!0,!1);function Y(l){return _e[l]}let Te=_e.length;function Mt(l){l<132||(_e[l]=Te,Te=l)}function ye(l){const e=Y(l);return Mt(l),e}function K(l){Te===_e.length&&_e.push(_e.length+1);const e=Te;return Te=_e[e],_e[e]=l,e}const ut=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&ut.decode();let Ee=null;function Se(){return(Ee===null||Ee.byteLength===0)&&(Ee=new Uint8Array($.memory.buffer)),Ee}function Z(l,e){return l=l>>>0,ut.decode(Se().subarray(l,l+e))}function zt(l,e,t,n){const r={a:l,b:e,cnt:1,dtor:t},o=(...i)=>{r.cnt++;const a=r.a;r.a=0;try{return n(a,r.b,...i)}finally{--r.cnt===0?$.__wbindgen_export_0.get(r.dtor)(a,r.b):r.a=a}};return o.original=r,o}function Ut(l,e){$.__wbindgen_export_1(l,e)}function we(l){return l==null}function Ot(l,e){if(!(l instanceof e))throw new Error(`expected instance of ${e.name}`);return l.ptr}let De=null;function x(){return(De===null||De.byteLength===0)&&(De=new Int32Array($.memory.buffer)),De}let Ve=0;const Ne=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},jt=typeof Ne.encodeInto=="function"?function(l,e){return Ne.encodeInto(l,e)}:function(l,e){const t=Ne.encode(l);return e.set(t),{read:l.length,written:t.length}};function st(l,e,t){if(t===void 0){const a=Ne.encode(l),c=e(a.length,1)>>>0;return Se().subarray(c,c+a.length).set(a),Ve=a.length,c}let n=l.length,r=e(n,1)>>>0;const o=Se();let i=0;for(;i<n;i++){const a=l.charCodeAt(i);if(a>127)break;o[r+i]=a}if(i!==n){i!==0&&(l=l.slice(i)),r=t(r,n,n=i+l.length*3,1)>>>0;const a=Se().subarray(r+i,r+n),c=jt(l,a);i+=c.written}return Ve=i,r}function Wt(l){try{const r=$.__wbindgen_add_to_stack_pointer(-16),o=st(l,$.__wbindgen_export_3,$.__wbindgen_export_4),i=Ve;$.compile_program(r,o,i);var e=x()[r/4+0],t=x()[r/4+1],n=x()[r/4+2];if(n)throw ye(t);return Ce.__wrap(e)}finally{$.__wbindgen_add_to_stack_pointer(16)}}function Ye(l,e){try{return l.apply(this,e)}catch(t){$.__wbindgen_export_5(K(t))}}const Be=Object.freeze({Registers:0,0:"Registers",Command:1,1:"Command",Data:2,2:"Data"});class Le{static __wrap(e){e=e>>>0;const t=Object.create(Le.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();$.__wbg_commandwrapper_free(e)}get_data(){const e=$.commandwrapper_get_data(this.__wbg_ptr);return ye(e)}static decode(e){try{const o=$.__wbindgen_add_to_stack_pointer(-16);$.commandwrapper_decode(o,e);var t=x()[o/4+0],n=x()[o/4+1],r=x()[o/4+2];if(r)throw ye(n);return Le.__wrap(t)}finally{$.__wbindgen_add_to_stack_pointer(16)}}}class Ht{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();$.__wbg_cpu_free(e)}constructor(e,t,n){const r=$.cpu_new(!we(e),we(e)?0:e,!we(t),we(t)?0:t,!we(n),we(n)?0:n);return this.__wbg_ptr=r>>>0,this}encode(e){Ot(e,Ce),$.cpu_encode(this.__wbg_ptr,e.__wbg_ptr)}get_memory(e){const t=$.cpu_get_memory(this.__wbg_ptr,e);return Ge.__wrap(t)}do_op(){try{const n=$.__wbindgen_add_to_stack_pointer(-16);$.cpu_do_op(n,this.__wbg_ptr);var e=x()[n/4+0],t=x()[n/4+1];if(t)throw ye(e)}finally{$.__wbindgen_add_to_stack_pointer(16)}}}class Pe{static __wrap(e){e=e>>>0;const t=Object.create(Pe.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();$.__wbg_parsererrror_free(e)}is_known_error(){return $.parsererrror_is_known_error(this.__wbg_ptr)!==0}get_error_position(){let e,t;try{const o=$.__wbindgen_add_to_stack_pointer(-16);$.parsererrror_get_error_position(o,this.__wbg_ptr);var n=x()[o/4+0],r=x()[o/4+1];return e=n,t=r,Z(n,r)}finally{$.__wbindgen_add_to_stack_pointer(16),$.__wbindgen_export_2(e,t,1)}}}class Ce{static __wrap(e){e=e>>>0;const t=Object.create(Ce.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();$.__wbg_program_free(e)}}class Ge{static __wrap(e){e=e>>>0;const t=Object.create(Ge.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();$.__wbg_sharedmemory_free(e)}subscribe(e){const t=$.sharedmemory_subscribe(this.__wbg_ptr,K(e));return ye(t)}write_u8(e,t){$.sharedmemory_write_u8(this.__wbg_ptr,e,t)}read_u8(e){return $.sharedmemory_read_u8(this.__wbg_ptr,e)}write_u32(e,t){$.sharedmemory_write_u32(this.__wbg_ptr,e,t)}read_u32(e){return $.sharedmemory_read_u32(this.__wbg_ptr,e)>>>0}write_all(e){$.sharedmemory_write_all(this.__wbg_ptr,K(e))}}async function Xt(l,e){if(typeof Response=="function"&&l instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(l,e)}catch(n){if(l.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",n);else throw n}const t=await l.arrayBuffer();return await WebAssembly.instantiate(t,e)}else{const t=await WebAssembly.instantiate(l,e);return t instanceof WebAssembly.Instance?{instance:t,module:l}:t}}function qt(){const l={};return l.wbg={},l.wbg.__wbindgen_cb_drop=function(e){const t=ye(e).original;return t.cnt--==1?(t.a=0,!0):!1},l.wbg.__wbindgen_object_drop_ref=function(e){ye(e)},l.wbg.__wbindgen_memory=function(){const e=$.memory;return K(e)},l.wbg.__wbg_buffer_344d9b41efe96da7=function(e){const t=Y(e).buffer;return K(t)},l.wbg.__wbg_newwithbyteoffsetandlength_2dc04d99088b15e3=function(e,t,n){const r=new Uint8Array(Y(e),t>>>0,n>>>0);return K(r)},l.wbg.__wbg_new_d8a000788389a31e=function(e){const t=new Uint8Array(Y(e));return K(t)},l.wbg.__wbg_call_53fc3abd42e24ec8=function(){return Ye(function(e,t,n){const r=Y(e).call(Y(t),Y(n));return K(r)},arguments)},l.wbg.__wbindgen_number_new=function(e){return K(e)},l.wbg.__wbindgen_object_clone_ref=function(e){const t=Y(e);return K(t)},l.wbg.__wbg_length_a5587d6cd79ab197=function(e){return Y(e).length},l.wbg.__wbg_set_dcfd613a3420f908=function(e,t,n){Y(e).set(Y(t),n>>>0)},l.wbg.__wbg_new_abda76e883ba8a5f=function(){const e=new Error;return K(e)},l.wbg.__wbg_stack_658279fe44541cf6=function(e,t){const n=Y(t).stack,r=st(n,$.__wbindgen_export_3,$.__wbindgen_export_4),o=Ve;x()[e/4+1]=o,x()[e/4+0]=r},l.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let n,r;try{n=e,r=t,console.error(Z(e,t))}finally{$.__wbindgen_export_2(n,r,1)}},l.wbg.__wbg_parsererrror_new=function(e){const t=Pe.__wrap(e);return K(t)},l.wbg.__wbindgen_string_new=function(e,t){const n=Z(e,t);return K(n)},l.wbg.__wbg_measure_aa7a73f17813f708=function(){return Ye(function(e,t,n,r){let o,i,a,c;try{o=e,i=t,a=n,c=r,performance.measure(Z(e,t),Z(n,r))}finally{$.__wbindgen_export_2(o,i,1),$.__wbindgen_export_2(a,c,1)}},arguments)},l.wbg.__wbg_mark_40e050a77cc39fea=function(e,t){performance.mark(Z(e,t))},l.wbg.__wbg_log_c9486ca5d8e2cbe8=function(e,t){let n,r;try{n=e,r=t,console.log(Z(e,t))}finally{$.__wbindgen_export_2(n,r,1)}},l.wbg.__wbg_log_aba5996d9bde071f=function(e,t,n,r,o,i,a,c){let m,_;try{m=e,_=t,console.log(Z(e,t),Z(n,r),Z(o,i),Z(a,c))}finally{$.__wbindgen_export_2(m,_,1)}},l.wbg.__wbindgen_throw=function(e,t){throw new Error(Z(e,t))},l.wbg.__wbindgen_closure_wrapper98=function(e,t,n){const r=zt(e,t,18,Ut);return K(r)},l}function Gt(l,e){return $=l.exports,ct.__wbindgen_wasm_module=e,De=null,Ee=null,$}async function ct(l){if($!==void 0)return $;typeof l>"u"&&(l=new URL(""+new URL("../assets/cpu_sim_rs_bg.36650209.wasm",import.meta.url).href,self.location));const e=qt();(typeof l=="string"||typeof Request=="function"&&l instanceof Request||typeof URL=="function"&&l instanceof URL)&&(l=fetch(l));const{instance:t,module:n}=await Xt(await l,e);return Gt(t,n)}function Ze(l,e,t){const n=l.slice();return n[8]=e[t],n[10]=t,n}function xe(l){let e,t=$e(l[4]),n=[];for(let r=0;r<t.length;r+=1)n[r]=et(Ze(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=me()},l(r){for(let o=0;o<n.length;o+=1)n[o].l(r);e=me()},m(r,o){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(r,o);B(r,e,o)},p(r,o){if(o&84){t=$e(r[4]);let i;for(i=0;i<t.length;i+=1){const a=Ze(r,t,i);n[i]?n[i].p(a,o):(n[i]=et(a),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(r){r&&d(e),Oe(n,r)}}}function Jt(l){let e=l[10]*4+"",t;return{c(){t=R(e)},l(n){t=A(n,e)},m(n,r){B(n,t,r)},d(n){n&&d(t)}}}function Kt(l){let e=(l[10]*4).toString(2).padStart(7,"0")+"",t;return{c(){t=R(e)},l(n){t=A(n,e)},m(n,r){B(n,t,r)},d(n){n&&d(t)}}}function et(l){let e,t,n,r,o=l[8].toString(2)+"",i,a,c=l[6](l[8])+"",m,_;function g(p,s){if(p[2]===2)return Kt;if(p[2]===10)return Jt}let T=g(l),f=T&&T(l);return{c(){e=v("div"),t=v("div"),f&&f.c(),n=V(),r=v("div"),i=R(o),a=V(),m=R(c),_=V(),this.h()},l(p){e=y(p,"DIV",{class:!0,style:!0});var s=S(e);t=y(s,"DIV",{class:!0});var w=S(t);f&&f.l(w),w.forEach(d),n=L(s),r=y(s,"DIV",{class:!0});var b=S(r);i=A(b,o),a=L(b),m=A(b,c),b.forEach(d),_=L(s),s.forEach(d),this.h()},h(){N(t,"class","cell svelte-1akpy5z"),N(r,"class","cell svelte-1akpy5z"),N(e,"class","row svelte-1akpy5z"),je(e,"font-size","14px")},m(p,s){B(p,e,s),u(e,t),f&&f.m(t,null),u(e,n),u(e,r),u(r,i),u(r,a),u(r,m),u(e,_)},p(p,s){T!==(T=g(p))&&(f&&f.d(1),f=T&&T(p),f&&(f.c(),f.m(t,null))),s&16&&o!==(o=p[8].toString(2)+"")&&de(i,o),s&16&&c!==(c=p[6](p[8])+"")&&de(m,c)},d(p){p&&d(e),f&&f.d()}}}function Qt(l){let e,t,n,r,o,i,a,c,m,_,g,T,f,p,s,w,b='<div class="cell svelte-1akpy5z">Addr</div> <div class="cell svelte-1akpy5z">Value</div>',E,M,j,D=l[3]!=null&&xe(l);return{c(){e=v("div"),t=R(l[0]),n=R(` Commad memory view!
	`),r=v("div"),o=v("label"),i=v("input"),c=R("binary"),m=V(),_=v("label"),g=v("input"),f=R("10"),p=V(),s=v("div"),w=v("div"),w.innerHTML=b,E=V(),D&&D.c(),this.h()},l(C){e=y(C,"DIV",{});var z=S(e);t=A(z,l[0]),n=A(z,` Commad memory view!
	`),r=y(z,"DIV",{});var O=S(r);o=y(O,"LABEL",{});var G=S(o);i=y(G,"INPUT",{type:!0}),c=A(G,"binary"),G.forEach(d),m=L(O),_=y(O,"LABEL",{});var F=S(_);g=y(F,"INPUT",{type:!0}),f=A(F,"10"),F.forEach(d),O.forEach(d),p=L(z),s=y(z,"DIV",{class:!0});var P=S(s);w=y(P,"DIV",{class:!0,"data-svelte-h":!0}),ve(w)!=="svelte-19czfn5"&&(w.innerHTML=b),E=L(P),D&&D.l(P),P.forEach(d),z.forEach(d),this.h()},h(){i.checked=a=l[2]===2,N(i,"type","radio"),i.value=2,g.checked=T=l[2]===10,N(g,"type","radio"),g.value=10,N(w,"class","row svelte-1akpy5z"),N(s,"class","table svelte-1akpy5z")},m(C,z){B(C,e,z),u(e,t),u(e,n),u(e,r),u(r,o),u(o,i),u(o,c),u(r,m),u(r,_),u(_,g),u(_,f),u(e,p),u(e,s),u(s,w),u(s,E),D&&D.m(s,null),M||(j=[H(i,"change",l[7]),H(g,"change",l[7])],M=!0)},p(C,[z]){z&1&&de(t,C[0]),z&4&&a!==(a=C[2]===2)&&(i.checked=a),z&4&&T!==(T=C[2]===10)&&(g.checked=T),C[3]!=null?D?D.p(C,z):(D=xe(C),D.c(),D.m(s,null)):D&&(D.d(1),D=null)},i:oe,o:oe,d(C){C&&d(e),D&&D.d(),M=!1,Ie(j)}}}function Yt(l,e,t){let n,r=oe,o=()=>(r(),r=We(c,f=>t(3,n=f)),c),i;l.$$.on_destroy.push(()=>r());let{name:a}=e,{memory:c}=e;o();let m=10;const _=mt(c,f=>{const p=[];let s=0;return f.forEach((w,b)=>{s|=w<<b%4*8,(b+1)%4===0&&(p.push(s),s=0)}),f.length%4!==0&&p.push(s),p});_t(l,_,f=>t(4,i=f));function g(f){try{return Le.decode(f).get_data()}catch(p){console.log("Error!"),console.log(p)}}function T(f){t(2,m=Number(f.currentTarget.value))}return l.$$set=f=>{"name"in f&&t(0,a=f.name),"memory"in f&&o(t(1,c=f.memory))},[a,c,m,n,i,_,g,T]}class Zt extends be{constructor(e){super(),ge(this,e,Yt,Qt,pe,{name:0,memory:1})}}function tt(l,e,t){const n=l.slice();return n[10]=e[t],n[12]=t,n}function nt(l){let e,t=$e(l[4]),n=[];for(let r=0;r<t.length;r+=1)n[r]=rt(tt(l,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=me()},l(r){for(let o=0;o<n.length;o+=1)n[o].l(r);e=me()},m(r,o){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(r,o);B(r,e,o)},p(r,o){if(o&60){t=$e(r[4]);let i;for(i=0;i<t.length;i+=1){const a=tt(r,t,i);n[i]?n[i].p(a,o):(n[i]=rt(a),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(r){r&&d(e),Oe(n,r)}}}function xt(l){let e;return{c(){e=R(l[12])},l(t){e=A(t,l[12])},m(t,n){B(t,e,n)},d(t){t&&d(e)}}}function en(l){let e=l[12].toString(2).padStart(7,"0")+"",t;return{c(){t=R(e)},l(n){t=A(n,e)},m(n,r){B(n,t,r)},d(n){n&&d(t)}}}function tn(l){let e,t=l[12]-7+"",n,r;return{c(){e=R("GP("),n=R(t),r=R(")")},l(o){e=A(o,"GP("),n=A(o,t),r=A(o,")")},m(o,i){B(o,e,i),B(o,n,i),B(o,r,i)},d(o){o&&(d(e),d(n),d(r))}}}function nn(l){let e;return{c(){e=R("JMP")},l(t){e=A(t,"JMP")},m(t,n){B(t,e,n)},d(t){t&&d(e)}}}function rn(l){let e;return{c(){e=R("CX")},l(t){e=A(t,"CX")},m(t,n){B(t,e,n)},d(t){t&&d(e)}}}function ln(l){let e;return{c(){e=R("IR")},l(t){e=A(t,"IR")},m(t,n){B(t,e,n)},d(t){t&&d(e)}}}function on(l){let e;return{c(){e=R("PC")},l(t){e=A(t,"PC")},m(t,n){B(t,e,n)},d(t){t&&d(e)}}}function an(l){let e=l[10]+"",t;return{c(){t=R(e)},l(n){t=A(n,e)},m(n,r){B(n,t,r)},p(n,r){r&16&&e!==(e=n[10]+"")&&de(t,e)},d(n){n&&d(t)}}}function un(l){let e=l[10].toString(2).padStart(8,"0")+"",t;return{c(){t=R(e)},l(n){t=A(n,e)},m(n,r){B(n,t,r)},p(n,r){r&16&&e!==(e=n[10].toString(2).padStart(8,"0")+"")&&de(t,e)},d(n){n&&d(t)}}}function rt(l){let e,t,n,r,o,i,a,c;function m(E,M){if(E[3]===2)return en;if(E[3]===10)return xt}let _=m(l),g=_&&_(l);function T(E,M){return E[12]==0?on:E[12]>=1&&E[12]<=4?ln:E[12]==5?rn:E[12]==6?nn:tn}let p=T(l)(l);function s(E,M){if(E[2]===2)return un;if(E[2]===10)return an}let w=s(l),b=w&&w(l);return{c(){e=v("div"),t=v("div"),g&&g.c(),n=V(),p.c(),r=V(),o=v("div"),b&&b.c(),i=V(),this.h()},l(E){e=y(E,"DIV",{class:!0,style:!0});var M=S(e);t=y(M,"DIV",{class:!0});var j=S(t);g&&g.l(j),n=L(j),p.l(j),j.forEach(d),r=L(M),o=y(M,"DIV",{id:!0,class:!0,contenteditable:!0});var D=S(o);b&&b.l(D),D.forEach(d),i=L(M),M.forEach(d),this.h()},h(){N(t,"class","cell svelte-1akpy5z"),N(o,"id",l[12]),N(o,"class","cell svelte-1akpy5z"),N(o,"contenteditable",""),N(e,"class","row svelte-1akpy5z"),je(e,"font-size","13px")},m(E,M){B(E,e,M),u(e,t),g&&g.m(t,null),u(t,n),p.m(t,null),u(e,r),u(e,o),b&&b.m(o,null),u(e,i),a||(c=H(o,"blur",l[5]),a=!0)},p(E,M){_!==(_=m(E))&&(g&&g.d(1),g=_&&_(E),g&&(g.c(),g.m(t,n))),w===(w=s(E))&&b?b.p(E,M):(b&&b.d(1),b=w&&w(E),b&&(b.c(),b.m(o,null)))},d(E){E&&d(e),g&&g.d(),p.d(),b&&b.d(),a=!1,c()}}}function sn(l){let e,t,n,r,o,i,a,c,m,_,g,T,f,p,s,w,b,E,M,j,D,C,z,O,G,F,P,ie='<div class="cell svelte-1akpy5z">Addr</div> <div class="cell svelte-1akpy5z">Value</div>',ee,ae,U,h=l[4]!=null&&nt(l);return{c(){e=v("div"),t=R(l[0]),n=V(),r=v("div"),o=v("label"),i=v("input"),c=R("binary"),m=V(),_=v("label"),g=v("input"),f=R("10"),p=V(),s=v("div"),w=v("label"),b=v("input"),M=R("binary"),j=V(),D=v("label"),C=v("input"),O=R("10"),G=V(),F=v("div"),P=v("div"),P.innerHTML=ie,ee=V(),h&&h.c(),this.h()},l(I){e=y(I,"DIV",{});var k=S(e);t=A(k,l[0]),n=L(k),r=y(k,"DIV",{});var J=S(r);o=y(J,"LABEL",{});var ue=S(o);i=y(ue,"INPUT",{type:!0}),c=A(ue,"binary"),ue.forEach(d),m=L(J),_=y(J,"LABEL",{});var se=S(_);g=y(se,"INPUT",{type:!0}),f=A(se,"10"),se.forEach(d),J.forEach(d),p=L(k),s=y(k,"DIV",{});var Q=S(s);w=y(Q,"LABEL",{});var q=S(w);b=y(q,"INPUT",{type:!0}),M=A(q,"binary"),q.forEach(d),j=L(Q),D=y(Q,"LABEL",{});var he=S(D);C=y(he,"INPUT",{type:!0}),O=A(he,"10"),he.forEach(d),Q.forEach(d),G=L(k),F=y(k,"DIV",{class:!0});var ce=S(F);P=y(ce,"DIV",{class:!0,"data-svelte-h":!0}),ve(P)!=="svelte-19czfn5"&&(P.innerHTML=ie),ee=L(ce),h&&h.l(ce),ce.forEach(d),k.forEach(d),this.h()},h(){i.checked=a=l[2]===2,N(i,"type","radio"),i.value=2,g.checked=T=l[2]===10,N(g,"type","radio"),g.value=10,b.checked=E=l[3]===2,N(b,"type","radio"),b.value=2,C.checked=z=l[3]===10,N(C,"type","radio"),C.value=10,N(P,"class","row svelte-1akpy5z"),N(F,"class","table svelte-1akpy5z")},m(I,k){B(I,e,k),u(e,t),u(e,n),u(e,r),u(r,o),u(o,i),u(o,c),u(r,m),u(r,_),u(_,g),u(_,f),u(e,p),u(e,s),u(s,w),u(w,b),u(w,M),u(s,j),u(s,D),u(D,C),u(D,O),u(e,G),u(e,F),u(F,P),u(F,ee),h&&h.m(F,null),ae||(U=[H(i,"change",l[6]),H(g,"change",l[6]),H(b,"change",l[7]),H(C,"change",l[7])],ae=!0)},p(I,[k]){k&1&&de(t,I[0]),k&4&&a!==(a=I[2]===2)&&(i.checked=a),k&4&&T!==(T=I[2]===10)&&(g.checked=T),k&8&&E!==(E=I[3]===2)&&(b.checked=E),k&8&&z!==(z=I[3]===10)&&(C.checked=z),I[4]!=null?h?h.p(I,k):(h=nt(I),h.c(),h.m(F,null)):h&&(h.d(1),h=null)},i:oe,o:oe,d(I){I&&d(e),h&&h.d(),ae=!1,Ie(U)}}}function cn(l){var e=/^[01]+$/;return e.test(l)}function _n(l,e,t){let n,r=oe,o=()=>(r(),r=We(a,s=>t(4,n=s)),a);l.$$.on_destroy.push(()=>r());let{name:i}=e,{memory:a}=e;o();let c=10,m=10;function _(s){const w=s.target?.id;let b=s.target.innerText;if(!cn(b)){T(),console.log(n[w]),s.target.innerText=n[w].toString(2).padStart(8,"0");return}b=parseInt(b,2),a?.write_u8(w,b),g()}function g(){Ae({data:{title:"Успешный успех!",description:"Новое значение ячейки памяти было записано!",color:"green"}})}function T(){Ae({data:{title:"Неуспешный неуспех!",description:"Новое значение ячейки памяти НЕ было записано!",color:"red"}})}function f(s){t(2,c=Number(s.currentTarget.value))}function p(s){t(3,m=Number(s.currentTarget.value))}return l.$$set=s=>{"name"in s&&t(0,i=s.name),"memory"in s&&o(t(1,a=s.memory))},[i,a,c,m,n,_,f,p]}class fn extends be{constructor(e){super(),ge(this,e,_n,sn,pe,{name:0,memory:1})}}function dn(l){let e,t,n,r,o="Compile",i,a;return{c(){e=v("div"),t=v("textarea"),n=V(),r=v("button"),r.textContent=o,this.h()},l(c){e=y(c,"DIV",{});var m=S(e);t=y(m,"TEXTAREA",{rows:!0,cols:!0}),S(t).forEach(d),n=L(m),r=y(m,"BUTTON",{"data-svelte-h":!0}),ve(r)!=="svelte-1f0dttr"&&(r.textContent=o),m.forEach(d),this.h()},h(){N(t,"rows","10"),N(t,"cols","80")},m(c,m){B(c,e,m),u(e,t),Re(t,l[0]),u(e,n),u(e,r),i||(a=[H(t,"input",l[2]),H(r,"click",l[3])],i=!0)},p(c,[m]){m&1&&Re(t,c[0])},i:oe,o:oe,d(c){c&&d(e),i=!1,Ie(a)}}}function mn(l,e,t){const n=ft();function r(){n("program",o)}let o,i=`section .data
                array1 db 1, 2, 3, 4, 5
                array2 db 6, 7, 8, 9, 10
                result db 5 dup(0)
                sum db 0

            section .text
                mov CX, 5 
                mov R0, array1 
                mov R1, array2 
                mov R2, result 
            multiply:
                mov R3, [R0] 
                mul R3, R3, [R1] 
                store [R2], R3

                inc R0 
                inc R1 
                inc R2 
            loop multiply

            mov CX, 5 
            mov R0, array1 
            mov R1, array2 
            mov R2, result 
            mov R4, 0
            sum:
                add R4, R4, [R2]

                inc R2

            loop sum
  `;function a(){console.log(i);try{o=Wt(i),console.log(o),r()}catch(_){_ instanceof Pe&&(console.log("Error!"),console.log(_.is_known_error()),console.log(_.get_error_position()))}}function c(){i=this.value,t(0,i)}return[i,a,c,()=>a()]}class pn extends be{constructor(e){super(),ge(this,e,mn,dn,pe,{})}}function lt(l){let e,t,n,r;const o=[gn,bn],i=[];function a(c,m){return c[3]==="data"?0:1}return e=a(l),t=i[e]=o[e](l),{c(){t.c(),n=me()},l(c){t.l(c),n=me()},m(c,m){i[e].m(c,m),B(c,n,m),r=!0},p(c,m){let _=e;e=a(c),e===_?i[e].p(c,m):(it(),X(i[_],1,1,()=>{i[_]=null}),ot(),t=i[e],t?t.p(c,m):(t=i[e]=o[e](c),t.c()),W(t,1),t.m(n.parentNode,n))},i(c){r||(W(t),r=!0)},o(c){X(t),r=!1},d(c){c&&d(n),i[e].d(c)}}}function bn(l){let e,t;return e=new Zt({props:{memory:l[2],name:"Cmd mem"}}),{c(){te(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,r){re(e,n,r),t=!0},p(n,r){const o={};r&4&&(o.memory=n[2]),e.$set(o)},i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function gn(l){let e,t;return e=new at({props:{memory:l[2],name:"Cmd mem"}}),{c(){te(e.$$.fragment)},l(n){ne(e.$$.fragment,n)},m(n,r){re(e,n,r),t=!0},p(n,r){const o={};r&4&&(o.memory=n[2]),e.$set(o)},i(n){t||(W(e.$$.fragment,n),t=!0)},o(n){X(e.$$.fragment,n),t=!1},d(n){le(e,n)}}}function hn(l){let e,t,n,r,o,i,a,c,m,_,g,T,f="Encode",p,s,w,b="Cmd",E,M="Data",j,D,C,z,O,G,F,P,ie,ee,ae;r=new vt({}),a=new Et({}),_=new St({}),C=new fn({props:{memory:l[0],name:"Registers"}}),O=new at({props:{memory:l[1],name:"Data mem"}});let U=l[2]&&lt(l);return P=new pn({}),P.$on("program",l[6]),{c(){e=v("div"),t=v("div"),n=v("button"),te(r.$$.fragment),o=V(),i=v("button"),te(a.$$.fragment),c=V(),m=v("button"),te(_.$$.fragment),g=V(),T=v("button"),T.textContent=f,p=V(),s=v("select"),w=v("option"),w.textContent=b,E=v("option"),E.textContent=M,j=V(),D=v("div"),te(C.$$.fragment),z=V(),te(O.$$.fragment),G=V(),U&&U.c(),F=V(),te(P.$$.fragment),this.h()},l(h){e=y(h,"DIV",{});var I=S(e);t=y(I,"DIV",{class:!0});var k=S(t);n=y(k,"BUTTON",{class:!0});var J=S(n);ne(r.$$.fragment,J),J.forEach(d),o=L(k),i=y(k,"BUTTON",{class:!0});var ue=S(i);ne(a.$$.fragment,ue),ue.forEach(d),c=L(k),m=y(k,"BUTTON",{class:!0});var se=S(m);ne(_.$$.fragment,se),se.forEach(d),g=L(k),T=y(k,"BUTTON",{"data-svelte-h":!0}),ve(T)!=="svelte-1v4lle6"&&(T.textContent=f),p=L(k),s=y(k,"SELECT",{});var Q=S(s);w=y(Q,"OPTION",{"data-svelte-h":!0}),ve(w)!=="svelte-18zbfze"&&(w.textContent=b),E=y(Q,"OPTION",{"data-svelte-h":!0}),ve(E)!=="svelte-yqkhri"&&(E.textContent=M),Q.forEach(d),k.forEach(d),j=L(I),D=y(I,"DIV",{class:!0});var q=S(D);ne(C.$$.fragment,q),z=L(q),ne(O.$$.fragment,q),G=L(q),U&&U.l(q),F=L(q),ne(P.$$.fragment,q),q.forEach(d),I.forEach(d),this.h()},h(){N(n,"class","icon-button svelte-1h6omvk"),N(i,"class","icon-button svelte-1h6omvk"),N(m,"class","icon-button svelte-1h6omvk"),w.__value="cmd",Re(w,w.__value),E.__value="data",Re(E,E.__value),N(t,"class","row svelte-1h6omvk"),N(D,"class","row svelte-1h6omvk")},m(h,I){B(h,e,I),u(e,t),u(t,n),re(r,n,null),u(t,o),u(t,i),re(a,i,null),u(t,c),u(t,m),re(_,m,null),u(t,g),u(t,T),u(t,p),u(t,s),u(s,w),u(s,E),u(e,j),u(e,D),re(C,D,null),u(D,z),re(O,D,null),u(D,G),U&&U.m(D,null),u(D,F),re(P,D,null),ie=!0,ee||(ae=[H(n,"click",vn),H(i,"click",yn),H(m,"click",l[4]),H(T,"click",l[5]),H(s,"change",l[7])],ee=!0)},p(h,[I]){const k={};I&1&&(k.memory=h[0]),C.$set(k);const J={};I&2&&(J.memory=h[1]),O.$set(J),h[2]?U?(U.p(h,I),I&4&&W(U,1)):(U=lt(h),U.c(),W(U,1),U.m(D,F)):U&&(it(),X(U,1,1,()=>{U=null}),ot())},i(h){ie||(W(r.$$.fragment,h),W(a.$$.fragment,h),W(_.$$.fragment,h),W(C.$$.fragment,h),W(O.$$.fragment,h),W(U),W(P.$$.fragment,h),ie=!0)},o(h){X(r.$$.fragment,h),X(a.$$.fragment,h),X(_.$$.fragment,h),X(C.$$.fragment,h),X(O.$$.fragment,h),X(U),X(P.$$.fragment,h),ie=!1},d(h){h&&d(e),le(r),le(a),le(_),le(C),le(O),U&&U.d(),le(P),ee=!1,Ie(ae)}}}function vn(){console.log("Pause clicked!")}function yn(){console.log("Play clicked!")}function wn(l,e,t){let n,r,o,i,a,c="cmd";dt(async()=>{ct().then(()=>{n=new Ht(80,32,32),t(0,r=n.get_memory(Be.Registers)),t(1,o=n.get_memory(Be.Data)),t(2,i=n.get_memory(Be.Command)),a=new Ce})});function m(){n?.do_op(),console.log("StepForward clicked!")}function _(){console.log(a),n?.encode(a)}function g(f){a=f.detail,console.log(a)}function T(f){t(3,c=f.target.value)}return[r,o,i,c,m,_,g,T]}class In extends be{constructor(e){super(),ge(this,e,wn,hn,pe,{})}}export{In as component,Tn as universal};
