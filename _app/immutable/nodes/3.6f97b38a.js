import{s as ie,f as h,a as O,g as y,h as U,d as w,c as S,A as X,j as z,B as oe,i as se,u as c,C as j,D as fe,o as ue,e as re}from"../chunks/scheduler.94b7e1b4.js";import{S as _e,i as pe,b as D,d as N,m as B,a as $,t as g,c as le,e as I,g as me}from"../chunks/index.4b7567a7.js";import{P as de,a as $e,S as ge,R as ve,M as ce,C as he,_ as ye,b as be,c as Y,d as ke,e as Ce}from"../chunks/compiler.0367c814.js";function ae(m){let t,n,e,r;const u=[Pe,we],l=[];function i(a,f){return a[3]==="data"?0:1}return t=i(m),n=l[t]=u[t](m),{c(){n.c(),e=re()},l(a){n.l(a),e=re()},m(a,f){l[t].m(a,f),se(a,e,f),r=!0},p(a,f){let _=t;t=i(a),t===_?l[t].p(a,f):(me(),g(l[_],1,1,()=>{l[_]=null}),le(),n=l[t],n?n.p(a,f):(n=l[t]=u[t](a),n.c()),$(n,1),n.m(e.parentNode,e))},i(a){r||($(n),r=!0)},o(a){g(n),r=!1},d(a){a&&w(e),l[t].d(a)}}}function we(m){let t,n;return t=new ke({props:{memory:m[2],name:"Cmd mem"}}),{c(){D(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,r){B(t,e,r),n=!0},p(e,r){const u={};r&4&&(u.memory=e[2]),t.$set(u)},i(e){n||($(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){I(t,e)}}}function Pe(m){let t,n;return t=new ce({props:{memory:m[2],name:"Cmd mem"}}),{c(){D(t.$$.fragment)},l(e){N(t.$$.fragment,e)},m(e,r){B(t,e,r),n=!0},p(e,r){const u={};r&4&&(u.memory=e[2]),t.$set(u)},i(e){n||($(t.$$.fragment,e),n=!0)},o(e){g(t.$$.fragment,e),n=!1},d(e){I(t,e)}}}function Te(m){let t,n,e,r,u,l,i,a,f,_,F,b,V="Encode",G,R,k,Z="Cmd",C,x="Data",H,p,P,J,T,K,A,E,L,Q,ee;r=new de({}),i=new $e({}),_=new ge({}),P=new ve({props:{memory:m[0],name:"Registers"}}),T=new ce({props:{memory:m[1],name:"Data mem"}});let s=m[2]&&ae(m);return E=new he({}),E.$on("program",m[6]),{c(){t=h("div"),n=h("div"),e=h("button"),D(r.$$.fragment),u=O(),l=h("button"),D(i.$$.fragment),a=O(),f=h("button"),D(_.$$.fragment),F=O(),b=h("button"),b.textContent=V,G=O(),R=h("select"),k=h("option"),k.textContent=Z,C=h("option"),C.textContent=x,H=O(),p=h("div"),D(P.$$.fragment),J=O(),D(T.$$.fragment),K=O(),s&&s.c(),A=O(),D(E.$$.fragment),this.h()},l(o){t=y(o,"DIV",{});var v=U(t);n=y(v,"DIV",{class:!0});var d=U(n);e=y(d,"BUTTON",{class:!0});var q=U(e);N(r.$$.fragment,q),q.forEach(w),u=S(d),l=y(d,"BUTTON",{class:!0});var te=U(l);N(i.$$.fragment,te),te.forEach(w),a=S(d),f=y(d,"BUTTON",{class:!0});var ne=U(f);N(_.$$.fragment,ne),ne.forEach(w),F=S(d),b=y(d,"BUTTON",{"data-svelte-h":!0}),X(b)!=="svelte-1v4lle6"&&(b.textContent=V),G=S(d),R=y(d,"SELECT",{});var W=U(R);k=y(W,"OPTION",{"data-svelte-h":!0}),X(k)!=="svelte-18zbfze"&&(k.textContent=Z),C=y(W,"OPTION",{"data-svelte-h":!0}),X(C)!=="svelte-yqkhri"&&(C.textContent=x),W.forEach(w),d.forEach(w),H=S(v),p=y(v,"DIV",{class:!0});var M=U(p);N(P.$$.fragment,M),J=S(M),N(T.$$.fragment,M),K=S(M),s&&s.l(M),A=S(M),N(E.$$.fragment,M),M.forEach(w),v.forEach(w),this.h()},h(){z(e,"class","icon-button svelte-1h6omvk"),z(l,"class","icon-button svelte-1h6omvk"),z(f,"class","icon-button svelte-1h6omvk"),k.__value="cmd",oe(k,k.__value),C.__value="data",oe(C,C.__value),z(n,"class","row svelte-1h6omvk"),z(p,"class","row svelte-1h6omvk")},m(o,v){se(o,t,v),c(t,n),c(n,e),B(r,e,null),c(n,u),c(n,l),B(i,l,null),c(n,a),c(n,f),B(_,f,null),c(n,F),c(n,b),c(n,G),c(n,R),c(R,k),c(R,C),c(t,H),c(t,p),B(P,p,null),c(p,J),B(T,p,null),c(p,K),s&&s.m(p,null),c(p,A),B(E,p,null),L=!0,Q||(ee=[j(e,"click",Ee),j(l,"click",Me),j(f,"click",m[4]),j(b,"click",m[5]),j(R,"change",m[7])],Q=!0)},p(o,[v]){const d={};v&1&&(d.memory=o[0]),P.$set(d);const q={};v&2&&(q.memory=o[1]),T.$set(q),o[2]?s?(s.p(o,v),v&4&&$(s,1)):(s=ae(o),s.c(),$(s,1),s.m(p,A)):s&&(me(),g(s,1,1,()=>{s=null}),le())},i(o){L||($(r.$$.fragment,o),$(i.$$.fragment,o),$(_.$$.fragment,o),$(P.$$.fragment,o),$(T.$$.fragment,o),$(s),$(E.$$.fragment,o),L=!0)},o(o){g(r.$$.fragment,o),g(i.$$.fragment,o),g(_.$$.fragment,o),g(P.$$.fragment,o),g(T.$$.fragment,o),g(s),g(E.$$.fragment,o),L=!1},d(o){o&&w(t),I(r),I(i),I(_),I(P),I(T),s&&s.d(),I(E),Q=!1,fe(ee)}}}function Ee(){console.log("Pause clicked!")}function Me(){console.log("Play clicked!")}function Oe(m,t,n){let e,r,u,l,i,a="cmd";ue(async()=>{ye().then(()=>{e=new be(70,32,32),n(0,r=e.get_memory(Y.Registers)),n(1,u=e.get_memory(Y.Data)),n(2,l=e.get_memory(Y.Command)),i=new Ce})});function f(){e?.do_op(),console.log("StepForward clicked!")}function _(){console.log(i),e?.encode(i)}function F(V){i=V.detail,console.log(i)}function b(V){n(3,a=V.target.value)}return[r,u,l,a,f,_,F,b]}class Be extends _e{constructor(t){super(),pe(this,t,Oe,Te,ie,{})}}export{Be as component};
